asyncapi: 2.2.0
info:
  title: Trivia Del Genio AsyncAPI
  version: 1.0.0
  description: Trivia Room AsyncAPI

servers:
  test:
    url: wss://api.trivia.dataandgame.com
    protocol: Colyseus(wss)

channels:
  tag:
    description: Trivia del Genio AsyncAPI
  #trivia
  #publish
  trivia/createTrivia:
    publish:
      message:
        $ref: '#/components/messages/createTriviaDto'
  trivia/joinTrivia:
    publish:
      message:
        $ref: '#/components/messages/joinTriviaDto'
  trivia/startTrivia:
    publish:
      message:
        $ref: '#/components/messages/startTriviaDto'
  trivia/voteTriviaCategory:
    publish:
      message:
        $ref: '#/components/messages/voteTriviaCategoryDto'
  trivia/finishFirstTriviaRound:
    publish:
      message:
        $ref: '#/components/messages/finishFirstTriviaRoundDto'
  trivia/finishSecondTriviaRound:
    publish:
      message:
        $ref: '#/components/messages/finishSecondTriviaRoundDto'
  trivia/finishThirdTriviaRound:
    publish:
      message:
        $ref: '#/components/messages/finishThirdTriviaRoundDto'
  trivia/claimTriviaPowerup:
    publish:
      message:
        $ref: '#/components/messages/claimTriviaPowerupDto'
  #subscribe
  trivia/triviaUserJoined:
    subscribe:
      message:
        $ref: '#/components/messages/triviaUserJoinedDto'
  trivia/triviaUserDisconnected:
    subscribe:
      message:
        $ref: '#/components/messages/triviaUserDisconnectedDto'
  trivia/triviaCategoriesRandomized:
    subscribe:
      message:
        $ref: '#/components/messages/triviaCategoriesRandomizedDto'
  trivia/triviaStarted:
    subscribe:
      message:
        $ref: '#/components/messages/triviaStartedDto'
  trivia/triviaCategorySelected:
    subscribe:
      message:
        $ref: '#/components/messages/triviaCategorySelectedDto'
  trivia/triviaUserFinishedFirstRound:
    subscribe:
      message:
        $ref: '#/components/messages/triviaUserFinishedFirstRoundDto'
  trivia/triviaUserFinishedSecondRound:
    subscribe:
      message:
        $ref: '#/components/messages/triviaUserFinishedSecondRoundDto'
  trivia/triviaUserFinishedThirdRound:
    subscribe:
      message:
        $ref: '#/components/messages/triviaUserFinishedThirdRoundDto'
  trivia/triviaConnectedUsersNumberUpdated:
    subscribe:
      message:
        $ref: '#/components/messages/triviaConnectedUsersNumberUpdatedDto'
  trivia/triviaUserClaimedPowerup:
    subscribe:
      message:
        $ref: '#/components/messages/triviaUserClaimedPowerupDto'
  #classification
  #publish
  classification/createClassification:
    publish:
      message:
        $ref: '#/components/messages/createClassificationDto'
  classification/joinClassification:
    publish:
      message:
        $ref: '#/components/messages/joinClassificationDto'
  classification/startClassification:
    publish:
      message:
        $ref: '#/components/messages/startClassificationDto'
  classification/voteClassificationCategory:
    publish:
      message:
        $ref: '#/components/messages/voteClassificationCategoryDto'
  classification/finishFirstClassificationRound:
    publish:
      message:
        $ref: '#/components/messages/finishFirstClassificationRoundDto'
  classification/finishSecondClassificationRound:
    publish:
      message:
        $ref: '#/components/messages/finishSecondClassificationRoundDto'
  classification/finishThirdClassificationRound:
    publish:
      message:
        $ref: '#/components/messages/finishThirdClassificationRoundDto'
  classification/finishFourthClassificationRound:
    publish:
      message:
        $ref: '#/components/messages/finishFourthClassificationRoundDto'
  classification/claimClassificationPowerup:
    publish:
      message:
        $ref: '#/components/messages/claimClassificationPowerupDto'
  #subscribe
  classification/classificationUserJoined:
    subscribe:
      message:
        $ref: '#/components/messages/classificationUserJoinedDto'
  classification/classificationUserDisconnected:
    subscribe:
      message:
        $ref: '#/components/messages/classificationUserDisconnectedDto'
  classification/classificationCategoriesRandomized:
    subscribe:
      message:
        $ref: '#/components/messages/classificationCategoriesRandomizedDto'
  classification/classificationStarted:
    subscribe:
      message:
        $ref: '#/components/messages/classificationStartedDto'
  classification/classificationCategorySelected:
    subscribe:
      message:
        $ref: '#/components/messages/classificationCategorySelectedDto'
  classification/classificationUserFinishedFirstRound:
    subscribe:
      message:
        $ref: '#/components/messages/classificationUserFinishedFirstRoundDto'
  classification/classificationUserFinishedSecondRound:
    subscribe:
      message:
        $ref: '#/components/messages/classificationUserFinishedSecondRoundDto'
  classification/classificationUserFinishedThirdRound:
    subscribe:
      message:
        $ref: '#/components/messages/classificationUserFinishedThirdRoundDto'
  classification/classificationUserFinishedFourthRound:
    subscribe:
      message:
        $ref: '#/components/messages/classificationUserFinishedFourthRoundDto'
  classification/classificationConnectedUsersNumberUpdated:
    subscribe:
      message:
        $ref: '#/components/messages/classificationConnectedUsersNumberUpdatedDto'
  classification/classificationUserClaimedPowerup:
    subscribe:
      message:
        $ref: '#/components/messages/classificationUserClaimedPowerupDto'
     
        
components:
  messages:
    #trivia
    #publish
    createTriviaDto:
      payload:
        type: object
        properties:
          enterprise:
            type: string
          trivia:
            type: object
            properties:
              id:
                type: string
              numberLimitUsers:
                type: number
          user:
            type: object
            properties:
              id:
                type: string
              Authorization:
                type: string
    joinTriviaDto:
      payload:
        type: object
        properties:
          enterprise:
            type: string
          user:
            type: object
            properties:
              id:
                type: string
              Authorization:
                type: string
    startTriviaDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              Authorization:
                type: string
    voteTriviaCategoryDto:
      payload:
        type: object
        properties:
          category:
            type: string
          user:
            type: object
            properties:
              id:
                type: string
    finishFirstTriviaRoundDto:
      payload:
        type: object
        properties:
          result:
            type: number
          user:
            type: object
            properties:
              id:
                type: string
    finishSecondTriviaRoundDto:
      payload:
        type: object
        properties:
          result:
            type: number
    finishThirdTriviaRoundDto:
      payload:
        type: object
        properties:
          result:
            type: number
    finishFourthTriviaRoundDto:
      payload:
        type: object
        properties:
          result:
            type: number
    claimTriviaPowerupDto:
      payload:
        type: object
        properties:
          powerup:
            type: number
    #suscribe
    triviaUserJoinedDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              enterprise:
                type: string
    triviaUserDisconnectedDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
    triviaCategoriesRandomizedDto:
      payload:
        type: object
        properties:
          categories:
            type: array
            items:
              type: 
                string
    triviaStartedDto:
      payload:
        type: object
        properties:
          trivia:
            type: object
            properties:
              status:
                type: string
    triviaCategorySelectedDto:
      payload:
        type: object
        properties:
          trivia:
            type: object
            properties:
              category:
                type: string
    triviaUserFinishedFirstRoundDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              result:
                type: number
    triviaUserFinishedSecondRoundDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              result:
                type: number
    triviaUserFinishedThirdRoundDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              result:
                type: number
    triviaConnectedUsersNumberUpdatedDto:
      payload:
        type: object
        properties:
          trivia:
            type: object
            properties:
              connectedUsersNumber:
                type: number
    triviaUserClaimedPowerupDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              powerup:
                type: number
    #classification
    #publish
    createClassificationDto:
      payload:
        type: object
        properties:
          enterprise:
            type: string
          classification:
            type: object
            properties:
              id:
                type: string
              numberLimitUsers:
                type: number
          user:
            type: object
            properties:
              id:
                type: string
              Authorization:
                type: string
    joinClassificationDto:
      payload:
        type: object
        properties:
          enterprise:
            type: string
          user:
            type: object
            properties:
              id:
                type: string
              Authorization:
                type: string
    startClassificationDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              Authorization:
                type: string
    voteClassificationCategoryDto:
      payload:
        type: object
        properties:
          category:
            type: string
          user:
            type: object
            properties:
              id:
                type: string
    finishFirstClassificationRoundDto:
      payload:
        type: object
        properties:
          result:
            type: number
          user:
            type: object
            properties:
              id:
                type: string
    finishSecondClassificationRoundDto:
      payload:
        type: object
        properties:
          result:
            type: number
    finishThirdClassificationRoundDto:
      payload:
        type: object
        properties:
          result:
            type: number
    finishFourthClassificationRoundDto:
      payload:
        type: object
        properties:
          result:
            type: number
    claimClassificationPowerupDto:
      payload:
        type: object
        properties:
          powerup:
            type: number
    #suscribe
    classificationUserJoinedDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              enterprise:
                type: string
    classificationUserDisconnectedDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
    classificationCategoriesRandomizedDto:
      payload:
        type: object
        properties:
          categories:
            type: array
            items:
              type: 
                string
    classificationStartedDto:
      payload:
        type: object
        properties:
          classification:
            type: object
            properties:
              status:
                type: string
    classificationCategorySelectedDto:
      payload:
        type: object
        properties:
          classification:
            type: object
            properties:
              category:
                type: string
    classificationUserFinishedFirstRoundDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              result:
                type: number
    classificationUserFinishedSecondRoundDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              result:
                type: number
    classificationUserFinishedThirdRoundDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              result:
                type: number
    classificationUserFinishedFourthRoundDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              result:
                type: number
    classificationConnectedUsersNumberUpdatedDto:
      payload:
        type: object
        properties:
          classification:
            type: object
            properties:
              connectedUsersNumber:
                type: number
    classificationUserClaimedPowerupDto:
      payload:
        type: object
        properties:
          user:
            type: object
            properties:
              id:
                type: string
              powerup:
                type: number

